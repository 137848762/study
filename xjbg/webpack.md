## webpack流程概述

webpack首先会把配置参数和命令行的参数以及默认参数合并，并初始化需要使用的插件和配置插件等执行环境所需要的参数；初始化完成后悔调用Compilre的run来真正启动webpack编译构建过程，webpakc的构建过程包括compile，make，build，seal，emit阶段，执行完这些阶段就完成了构建过程。

- 初始化参数：从配置文件和shell语句中读取与合并参数，得出最终的参数
- 开始编译：根据我们的webpack配置，注册好对应的插件，调用compile.run进入编译阶段，在编译的第一阶段
是compilation，他会注册号不同类型的module对应的factory
- 编译模块：进度make阶段，会从entry开始进行两步操作，第一步是调用loaders对模块的原始代码进行编译，转换成标准的js代码，第二部是调用acorn对js代码进行语法分析，然后收集其中的依赖关系。每个模块都会记录自己的依赖关系，从而形成一颗关系树。
- 输出资源：根据入口和模块之间的依赖关系，组装成一个个包含多个模块的chunk，再把每个chunk转换成一个单独的文件加入到输出列表，这步是可以修改输出内容的最后机会。
- 输出完成：在确定好输出内容后，根据配置确定输出的路径和文件名，把文件内容写入到文件系统。


简单版本

解析参数
找到入口文件
调用loader编译文件
遍历AST，收集依赖
生成chunk
输出文件