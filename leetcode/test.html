<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<script>
/**
 * @param {number} x
 * @return {number}
 */
var reverse = function(x) {
  const border = 2**31
  const max = border - 1
  const min = -border
  const result = (x > 0 ? 1 : -1) * x.toString().split('').filter(x => x !== '-').reverse().join('')
  return result > max || result < min ? 0 :result
};

// console.log(reverse(120));

var isPalindrome = function(x) {
  if (x < 0) return false

  let flag = true

  x = x.toString()

  for (let i=0,len=x.length;i<len/2;i++) {
    if (x[i] !== x[len-1-i]) {
      flag = false
      break
    }
  }

  return flag
};

/**
 * @param {string} s
 * @return {number}
 */
 var romanToInt = function(s) {
    const map = {
        I : 1,
        IV: 4,
        V: 5,
        IX: 9,
        X: 10,
        XL: 40,
        L: 50,
        XC: 90,
        C: 100,
        CD: 400,
        D: 500,
        CM: 900,
        M: 1000
    };
    let ans = 0;
    for(let i = 0;i < s.length;) {
        if(i + 1 < s.length && map[s.substring(i, i+2)]) {
            ans += map[s.substring(i, i+2)];
            i += 2;
        } else {
            ans += map[s.substring(i, i+1)];
            i ++;
        }
    }
    return ans;
};


var longestCommonPrefix = function(strs) {
  if (strs.length === 0) return ""

  let long = strs[0]

  for (let i=0;i<strs.length;i++) {
    let j=0
    for (;j<long.length && j<strs[i].length;j++) {
      if (long[j] !== strs[i][j]) {
        break
      }
    }
    long = long.substring(0, j)
    if (long === "") return ""
  }    
  return long
};

var isValid = function(s) {
    const len = s.length
    const arr = []

    if (len % 2) return false

    for (let i=0;i<len;i++) {
        switch(s[i]) {
            case '(':
                arr.push('(')
                break
            case '[':
                arr.push('[')
                break
            case '{':
                arr.push('{')
                break
            case ')':
                if (arr.pop() !== '(') return false
                break
            case ']':
                if (arr.pop() !== '[') return false
                break
            case '}':
                if (arr.pop() !== '{') return false
                break
                
        }
    } 
    return true
};

// console.log(isValid("(("))

var removeDuplicates = function (nums) {
    var len = 1;
    for (var i = 1; i < nums.length; i++)
        if (nums[i] != nums[i-1]) nums[len++] = nums[i];
    return len
};

// removeDuplicates([1,1,2])

var removeElement = function(nums, val) {
    for (let i=0;i<nums.length;) {
        if (nums[i] === val) {
            nums.splice(i,1)
        } else {
            i++
        }
    }

    return nums.length
};

// removeElement([3,2,2,3], 3)

var maxSubArray = function(nums) {
    let ans = nums[0];
    let sum = 0;
    for(const num of nums) {
        if(sum > 0) {
            sum += num;
        } else {
            sum = num;
        }
        ans = Math.max(ans, sum);
    }
    return ans;
};

// maxSubArray([-2,1,-3,4,-1,2,1,-5,4])


/**
 * @param {string} s
 * @return {number}
 */
 var lengthOfLastWord = function(s) {
   let last = ''
    if (s.indexOf(' ') > -1) {
        const arr = s.split(' ')
        while(arr.length) {
            const pop = arr.pop()

            if (pop !== "") {
              last = pop
              break
            }
        }
    }
    return last.length
    
};

// lengthOfLastWord('b   a   ')

/**
 * @param {number[]} digits
 * @return {number[]}
 */
 var plusOne = function(digits) {
    const len = digits.length;
    for(let i = len - 1; i >= 0; i--) {
        digits[i]++;
        digits[i] %= 10;
        if(digits[i]!=0)
            return digits;
    }
    digits = [1, ...digits]
    return digits;
};


plusOne([4,9,9])



// const getServerStuff = callback => ajaxCall(json => callback(json));


// const getServerStuff = function (callbacl) { 
//   return ajaxCall(function(json) {
//     return callback(json)
//   })
// }


function ListNode(val) {
    this.val = val;
    this.next = null;
}

const l1 = new ListNode(1)
l1.next = new ListNode(2)
l1.next.next = new ListNode(3)
l1.next.next.next = new ListNode(4)

const l2 = new ListNode(5)
l2.next = new ListNode(6)
l2.next.next = new ListNode(7)
l2.next.next.next = new ListNode(8)

console.log(l1,l2);


const addTwoNumbers = (l1,l2) => {
    l1 = reverse(l1)
    l2 = reverse(l2)

    let add = 0
    let res = new ListNode()
    let cur = res

    while(l1 || l2 || add === 1) {
        let val = (l1 ? l1.val : 0) + (l2 ? l2.val : 0) + add
        add = val >= 10 ? 1 : 0

        console.log(val);

        cur.next = new ListNode(val % 10)
        cur = cur.next

        if (l1) l1 = l1.next
        if (l2) l2 = l2.next
    }

    return reverse(res.next)


    function reverse(link) {
        let prev = null
        let cur = link

        while(cur) {
            let temp = cur.next
            cur.next = prev
            prev = cur
            cur = temp
        }

        return prev
    }
}

// console.log(addTwoNumbers(l1, l2));

</script>
</body>
</html>